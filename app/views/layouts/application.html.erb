<!DOCTYPE html>
<html>
  <head>
    <title>CaliforniaWineries</title>
    <%= csrf_meta_tags %>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://kit.fontawesome.com/88ad912d1f.js" crossorigin="anonymous"></script>
    
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link href="https://unpkg.com/basscss@8.0.2/css/basscss.min.css" rel="stylesheet">
  </head>

  <body>
    <div class="navbar-fixed">
        <nav class="#b71c1c red darken-4">
          <div class="container">
            <div class="nav-wrapper">
              <a href="/" class="brand-logo">California Wineries</a>
              <a href="#" data-target="mobile-nav" class="sidenav-trigger">
                <i class="material-icons">menu</i>
              </a>
              <ul class="right hide-on-med-and-down">
    <% if logged_in? %>
      <li><%= link_to "Add a Winery", new_winery_path %></li>
      <li><%= link_to "All Wineries", wineries_path %></li>
      <li><%= link_to "Add a Comment", new_comment_path %></li>
      <li><%= link_to "My wineries", user_wineries_path(current_user) %></li>
      <li><%= link_to "Logout", logout_path, method: 'delete' %></li>
    <% else %>
      <li><%= link_to "Sign Up", signup_path %></li>
      <li><%= link_to "Log In", login_path %></li>
    <% end %>
    </ul>
            </div>
          </nav>
        </div>
      <ul class="sidenav" id="mobile-nav">
        <% if logged_in? %>
            <li><%= link_to "Logout", logout_path, :class => "btn btn-primary", method: "DELETE" %></li>
            <li><%= link_to "Add a Winery", new_winery_path, :class => "btn btn-primary" %></li>
            <li><%= link_to "My wineries", user_wineries_path(current_user), :class => "btn btn-primary" %></li>
            <li><%= link_to "All Wineries", wineries_path, :class => "btn btn-primary" %></li>
        <% else %>
            <li><%= link_to "Signup", signup_path %></li>
            <li><%= link_to "Login", login_path %></li>
        <% end %>
      </ul>
      
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    
    <div>
      <% if flash[:message] %>
        <%= flash[:message] %>
      <% end %>
      <%= @error %>
      
      <%= render 'layouts/errors' %>

    <div class="container">
    <%= yield %>
    </div>
  </body>
</html>

<script>
  const sideNav = document.querySelector('.sidenav');
        M.Sidenav.init(sideNav, {});
</script>
